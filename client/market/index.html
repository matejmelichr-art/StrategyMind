<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>StrategyMind — Market Scanner</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com?plugins=forms"></script>

  <style>
    html,body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    .row:hover{background:#f8fafc}
    .pill{padding:.375rem .625rem;border-radius:9999px;border:1px solid rgba(15,23,42,.08)}
    .kbd{background:#f3f4f6;padding:.125rem .375rem;border-radius:.25rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace;font-size:.75rem}

    .table-grid{
      display:grid;
      grid-template-columns: 100px 1fr 120px 100px 100px 250px 80px 180px;
      align-items:center;
    }
    .cell-nowrap{white-space:nowrap}
    .actions{display:flex;justify-content:flex-end;gap:.5rem}
    @media (max-width: 1180px){
      .table-grid{ grid-template-columns: 90px 1fr 110px 95px 95px 260px 80px 150px; }
    }

    .badge{display:inline-flex;align-items:center;gap:.4rem;border:1px solid rgba(15,23,42,.12);border-radius:9999px;padding:.25rem .55rem;font-size:.75rem}
    .impact-up{background:#ecfdf5;border-color:#a7f3d0;color:#065f46}
    .impact-down{background:#fef2f2;border-color:#fecaca;color:#7f1d1d}
    .impact-flat{background:#f1f5f9;border-color:#cbd5e1;color:#334155}
    .tag{display:inline-block;padding:.15rem .5rem;border:1px solid #e2e8f0;border-radius:9999px;font-size:.7rem;color:#475569;background:#fff}
    .ins-card{border:1px solid #e2e8f0;border-radius:1rem;background:white}

    /* ——— FIX caretů na iOS (přebití Tailwind Forms) ——— */
    .select-caret{
      -webkit-appearance:none;
      appearance:none;
      background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none'><path d='M6 8l4 4 4-4' stroke='%236b7280' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'/></svg>") !important;
      background-repeat:no-repeat !important;
      background-size:18px 18px !important;
      /* šipku posuneme víc doprava */
      background-position:right 1.25rem center !important;
      /* a dáme víc vnitřního místa pro text */
      padding-right:3.25rem !important;
      line-height:1.25;
      background-clip:padding-box;
    }
    @media (max-width:640px){
      .select-caret{
        background-position:right 1.05rem center !important;
        padding-right:2.9rem !important;
      }
    }
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <!-- Header atd. beze změn -->

  <main class="max-w-6xl mx-auto px-4 py-8">
    <!-- Toolbar & tabulka ... -->

    <!-- Insights / News-driven explanation -->
    <section class="mt-8">
      <div class="flex items-center justify-between gap-3 flex-wrap">
        <h2 class="text-xl font-semibold">Rychlé výkazy ze zpráv (Insights)</h2>
        <div class="flex items-center gap-2">
          <input id="insSearch" class="px-3 py-2 rounded-lg border border-slate-200 bg-white outline-none w-56" placeholder="Hledej v titulcích…" />
          <select id="insType" class="px-3 py-2 rounded-lg border border-slate-200 bg-white">
            <option value="">Všechna aktiva</option>
            <option value="stock">Akcie</option>
            <option value="index">Indexy</option>
            <option value="forex">Forex</option>
            <option value="crypto">Krypto</option>
            <option value="commodity">Komodity</option>
            <option value="macro">Makro</option>
          </select>
          <!-- caret fix také pro sentiment -->
          <select id="insSent" class="px-3 py-2 rounded-lg border border-slate-200 bg-white select-caret">
            <option value="">Všechen sentiment</option>
            <option value="up">Pozitivní (↑)</option>
            <option value="down">Negativní (↓)</option>
            <option value="flat">Neutrální (↔)</option>
          </select>
          <!-- caret fix pro Horizon -->
          <select id="insHorizon" class="px-3 py-2 rounded-lg border border-slate-200 bg-white select-caret">
            <option value="D">Horizon: Dny</option>
            <option value="W" selected>Horizon: Týdny</option>
            <option value="M">Horizon: Měsíce</option>
          </select>
          <button id="insRefresh" class="px-4 py-2 rounded-xl border border-slate-300 bg-white hover:bg-slate-50">Aktualizovat</button>
        </div>
      </div>
      <!-- zbytek HTML + JS beze změn -->
    </section>

    <!-- ... tvůj původní JS k tabulce i insights ... -->
    <script>
      /* zde může zůstat tvůj původní JS z poslední verze – nic v něm měnit netřeba */
    </script>
  </main>
</body>
</html>
